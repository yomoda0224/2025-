# Arduino UNO R4 WIFIを使った卒業制作

## 概要

Arduino UNO R4 Wifiを用いた、重さの検知と指紋認証でロック解除できる貯金箱。

### 主な機能

貨幣の重さ検知、それによるLEDの表示  
指紋認証モジュールを用いた施錠管理

# 仕様

## 使用パーツ

|パーツ|個数|用途|
|-|-|-|
|Arduino UNO R4 Wifi|1個|制御|
|ロードセル ※1|1個|重さセンサー|
|ロードセル用ADコンバーター|1個|ロードセルの抵抗値を測定し変換する|
|ジャンパーワイヤー|いっぱい|配線|
|LEDタッチパネル ※2|1個|表示|
|レベルコンバータ|1個|arduinoとLEDを接続するため|
|指紋認証モジュール ※3|1個|指紋認証|
|サーボ|1個|扉の開閉制御|

**※1 ロードセルについて**  
調べたところ、ロードセルには色々種類があった

|種類|主な特徴|適した荷重の方向|主な用途例|
|-|-|-|-|
|S字型|引張・圧縮の両用が可能で汎用性が高い|引張・圧縮|クレーンスケール、引張試験機|
|ビーム型|高精度で一般的なスケールに使用される|圧縮|台はかり、ホッパースケール|
|薄型|本体が低く、限られたスペースに設置可能|主に圧縮|デジタル体重計、組み込み機器|

今回はhogeなのでfuga型を選んだ。

**※2 LEDタッチパネルについて**  
視認性向上と、タッチパネルにすることで操作用のパーツを減らすため

**※3 指紋認証モジュールについて**  
指紋認証モジュールも調べたところ3種類ほど見つかった
コスパや見た目、配送期間を考えた結果ZW101にした

## 簡単なフローチャート

全体の流れ

``` mermaid
graph TD;
    A[モニターに金額、重量、取り出しボタンを表示] --> B[取り出しボタンを押す]
    B --指紋認証を促す--> C[指紋認証をする]
    C --成功--> D[扉が開く]
    D --解放中と表示--> E[お金を取り出す]
    E --扉を閉じる--> F[施錠完了と表示]
    F --> G[重量と金額の差を計算し結果を表示]
    G --通常時に戻る--> A
    C --失敗--> I[もう1度認証してくださいと表示]
    I --> C
    I --3回失敗したら--> J[認証に失敗しましたと表示]
    J --通常時に戻る--> A
```

## ブレッドボード図

## 回路図

## ソフトウェア

### 標準ライブラリ

### 追加ライブラリ

## 参考サイト

- ロードセル
  - Arduinoを使った重さの計測 <https://deviceplus.jp/arduino/arduino-dezitaru-keisoku-2/>
  - 解説動画 <https://youtu.be/1BfKZ6SDnD0?si=p0DVoaR5B4i8J-f0>
  - 重さの設定の解説 <https://youtu.be/sxzoAGf1kOo?si=oG0q9NBSkf5GrbU3>
- 貨幣の重さ
  - 財務省 <https://www.mof.go.jp/policy/currency/coin/general_coin/list.htm>
- 指紋認証モジュール
  - 解説動画 <https://youtu.be/X6WnkEh0kHU?si=h_zM5rgrfo6YTD_W>
  - 光学式と静電容量式の解説 <https://youtu.be/SPg0zJzs7dw?si=a0-kj1_iehp_nMjv>
- サーボ
  - Arduino基本プロジェクト <https://docs.sunfounder.com/projects/elite-explorer-kit/ja/latest/basic_projects/27_basic_servo.html>
